ca65 V2.19 - Git 84bcd53
Main file   : C:\Prosjekt\c64\prosjekt\build\gfx_helpers.c.25884.2.s
Current file: C:\Prosjekt\c64\prosjekt\build\gfx_helpers.c.25884.2.s

000000r 1               ;
000000r 1               ; File generated by cc65 v 2.19 - Git 84bcd53
000000r 1               ;
000000r 1               	.fopt		compiler,"cc65 v 2.19 - Git 84bcd53"
000000r 1               	.setcpu		"6502"
000000r 1               	.smart		on
000000r 1               	.autoimport	on
000000r 1               	.case		on
000000r 1               	.debuginfo	off
000000r 1               	.importzp	c_sp, sreg, regsave, regbank
000000r 1               	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
000000r 1               	.macpack	longbranch
000000r 2               .macro  jeq     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                       bne     *+5
000000r 2                       jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               beq     Target
000000r 2                       .else
000000r 2                               bne     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jne     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               beq     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bne     Target
000000r 2                       .else
000000r 2                               beq     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jmi     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bpl     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bmi     Target
000000r 2                       .else
000000r 2                               bpl     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jpl     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bmi     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bpl     Target
000000r 2                       .else
000000r 2                               bmi     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jcs     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bcc     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bcs     Target
000000r 2                       .else
000000r 2                               bcc     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jcc     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bcs     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bcc     Target
000000r 2                       .else
000000r 2                               bcs     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jvs     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bvc     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bvs     Target
000000r 2                       .else
000000r 2                               bvc     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jvc     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bvs     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bvc     Target
000000r 2                       .else
000000r 2                               bvs     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               
000000r 1               	.import		_memcpy
000000r 1               	.import		_memset
000000r 1               	.import		_cbm_k_chrin
000000r 1               	.import		_cbm_k_readst
000000r 1               	.export		_pulse_border_tick
000000r 1               	.export		_wait_frames
000000r 1               	.export		_draw_progress_bar
000000r 1               	.export		_init_bitmap_blank
000000r 1               	.export		_read_screen_progress
000000r 1               	.export		_read_color_progress
000000r 1               	.export		_wait_video_frames
000000r 1               	.export		_wait_video_seconds
000000r 1               
000000r 1               ; ---------------------------------------------------------------
000000r 1               ; void __near__ pulse_border_tick (void)
000000r 1               ; ---------------------------------------------------------------
000000r 1               
000000r 1               .segment	"CODE"
000000r 1               
000000r 1               .proc	_pulse_border_tick: near
000000r 1               
000000r 1               .segment	"CODE"
000000r 1               
000000r 1  AD rr rr     	lda     M0001
000003r 1  4A           	lsr     a
000004r 1  4A           	lsr     a
000005r 1  4A           	lsr     a
000006r 1  29 07        	and     #$07
000008r 1  8D 20 D0     	sta     $D020
00000Br 1  EE rr rr     	inc     M0001
00000Er 1  60           	rts
00000Fr 1               
00000Fr 1               .segment	"DATA"
000000r 1               
000000r 1               M0001:
000000r 1  00           	.byte	$00
000001r 1               
000001r 1               .endproc
000001r 1               
000001r 1               ; ---------------------------------------------------------------
000001r 1               ; void __near__ wait_frames (unsigned char frames)
000001r 1               ; ---------------------------------------------------------------
000001r 1               
000001r 1               .segment	"CODE"
00000Fr 1               
00000Fr 1               .proc	_wait_frames: near
00000Fr 1               
00000Fr 1               .segment	"CODE"
00000Fr 1               
00000Fr 1  20 rr rr     	jsr     pusha
000012r 1  A2 D0        	ldx     #$D0
000014r 1  A9 12        	lda     #$12
000016r 1  8D rr rr     	sta     M0001
000019r 1  8E rr rr     	stx     M0001+1
00001Cr 1  4C rr rr     	jmp     L0006
00001Fr 1  AD rr rr     L0002:	lda     M0001+1
000022r 1  85 rr        	sta     ptr1+1
000024r 1  AD rr rr     	lda     M0001
000027r 1  85 rr        	sta     ptr1
000029r 1  B1 rr        	lda     (ptr1),y
00002Br 1  8D rr rr     	sta     M0002
00002Er 1  AD rr rr     L0005:	lda     M0001+1
000031r 1  85 rr        	sta     ptr1+1
000033r 1  AD rr rr     	lda     M0001
000036r 1  85 rr        	sta     ptr1
000038r 1  B1 rr        	lda     (ptr1),y
00003Ar 1  CD rr rr     	cmp     M0002
00003Dr 1  F0 EF        	beq     L0005
00003Fr 1  A0 00        L0006:	ldy     #$00
000041r 1  B1 rr        	lda     (c_sp),y
000043r 1  08           	php
000044r 1  B1 rr        	lda     (c_sp),y
000046r 1  38           	sec
000047r 1  E9 01        	sbc     #$01
000049r 1  91 rr        	sta     (c_sp),y
00004Br 1  28           	plp
00004Cr 1  D0 D1        	bne     L0002
00004Er 1  4C rr rr     	jmp     incsp1
000051r 1               
000051r 1               .segment	"BSS"
000000r 1               
000000r 1               M0001:
000000r 1  00 00        	.res	2,$00
000002r 1               M0002:
000002r 1  00           	.res	1,$00
000003r 1               
000003r 1               .endproc
000003r 1               
000003r 1               ; ---------------------------------------------------------------
000003r 1               ; void __near__ draw_progress_bar (unsigned char row, unsigned char col, unsigned char width, unsigned short current, unsigned short total)
000003r 1               ; ---------------------------------------------------------------
000003r 1               
000003r 1               .segment	"CODE"
000051r 1               
000051r 1               .proc	_draw_progress_bar: near
000051r 1               
000051r 1               .segment	"CODE"
000051r 1               
000051r 1  20 rr rr     	jsr     pushax
000054r 1  A2 04        	ldx     #$04
000056r 1  A9 00        	lda     #$00
000058r 1  8D rr rr     	sta     M0004
00005Br 1  8E rr rr     	stx     M0004+1
00005Er 1  A0 04        	ldy     #$04
000060r 1  B1 rr        	lda     (c_sp),y
000062r 1  D0 03 4C rr  	jeq     L0008
000066r 1  rr           
000067r 1  A0 00        	ldy     #$00
000069r 1  B1 rr        	lda     (c_sp),y
00006Br 1  C8           	iny
00006Cr 1  11 rr        	ora     (c_sp),y
00006Er 1  F0 6D        	beq     L000F
000070r 1  A0 03        	ldy     #$03
000072r 1  B1 rr        	lda     (c_sp),y
000074r 1  AA           	tax
000075r 1  88           	dey
000076r 1  B1 rr        	lda     (c_sp),y
000078r 1  20 rr rr     	jsr     push0ax
00007Br 1  A0 08        	ldy     #$08
00007Dr 1  A2 00        	ldx     #$00
00007Fr 1  B1 rr        	lda     (c_sp),y
000081r 1  20 rr rr     	jsr     tosumul0ax
000084r 1  20 rr rr     	jsr     pusheax
000087r 1  A0 05        	ldy     #$05
000089r 1  B1 rr        	lda     (c_sp),y
00008Br 1  AA           	tax
00008Cr 1  88           	dey
00008Dr 1  B1 rr        	lda     (c_sp),y
00008Fr 1  20 rr rr     	jsr     tosudiv0ax
000092r 1  8D rr rr     	sta     M0005
000095r 1  8E rr rr     	stx     M0005+1
000098r 1  A4 rr        	ldy     sreg
00009Ar 1  8C rr rr     	sty     M0005+2
00009Dr 1  A4 rr        	ldy     sreg+1
00009Fr 1  8C rr rr     	sty     M0005+3
0000A2r 1  AD rr rr     	lda     M0005+3
0000A5r 1  85 rr        	sta     sreg+1
0000A7r 1  AD rr rr     	lda     M0005+2
0000AAr 1  85 rr        	sta     sreg
0000ACr 1  AE rr rr     	ldx     M0005+1
0000AFr 1  AD rr rr     	lda     M0005
0000B2r 1  20 rr rr     	jsr     pusheax
0000B5r 1  A0 08        	ldy     #$08
0000B7r 1  A2 00        	ldx     #$00
0000B9r 1  B1 rr        	lda     (c_sp),y
0000BBr 1  86 rr        	stx     sreg
0000BDr 1  86 rr        	stx     sreg+1
0000BFr 1  20 rr rr     	jsr     tosugteax
0000C2r 1  F0 16        	beq     L0006
0000C4r 1  A0 04        	ldy     #$04
0000C6r 1  A2 00        	ldx     #$00
0000C8r 1  B1 rr        	lda     (c_sp),y
0000CAr 1  8D rr rr     	sta     M0005
0000CDr 1  8E rr rr     	stx     M0005+1
0000D0r 1  A4 rr        	ldy     sreg
0000D2r 1  8C rr rr     	sty     M0005+2
0000D5r 1  A4 rr        	ldy     sreg+1
0000D7r 1  8C rr rr     	sty     M0005+3
0000DAr 1  AD rr rr     L0006:	lda     M0005
0000DDr 1  8D rr rr     L000F:	sta     M0002
0000E0r 1  A0 06        	ldy     #$06
0000E2r 1  B1 rr        	lda     (c_sp),y
0000E4r 1  20 rr rr     	jsr     pusha0
0000E7r 1  A9 28        	lda     #$28
0000E9r 1  20 rr rr     	jsr     tosumula0
0000ECr 1  85 rr        	sta     ptr1
0000EEr 1  86 rr        	stx     ptr1+1
0000F0r 1  A0 05        	ldy     #$05
0000F2r 1  B1 rr        	lda     (c_sp),y
0000F4r 1  18           	clc
0000F5r 1  65 rr        	adc     ptr1
0000F7r 1  A6 rr        	ldx     ptr1+1
0000F9r 1  90 01        	bcc     L000E
0000FBr 1  E8           	inx
0000FCr 1  8D rr rr     L000E:	sta     M0003
0000FFr 1  8E rr rr     	stx     M0003+1
000102r 1  A9 00        	lda     #$00
000104r 1  8D rr rr     	sta     M0001
000107r 1  AD rr rr     L0011:	lda     M0001
00010Ar 1  A0 04        	ldy     #$04
00010Cr 1  D1 rr        	cmp     (c_sp),y
00010Er 1  B0 32        	bcs     L0008
000110r 1  AD rr rr     	lda     M0003
000113r 1  AE rr rr     	ldx     M0003+1
000116r 1  18           	clc
000117r 1  6D rr rr     	adc     M0001
00011Ar 1  90 02        	bcc     L0010
00011Cr 1  E8           	inx
00011Dr 1  18           	clc
00011Er 1  6D rr rr     L0010:	adc     M0004
000121r 1  85 rr        	sta     ptr1
000123r 1  8A           	txa
000124r 1  6D rr rr     	adc     M0004+1
000127r 1  85 rr        	sta     ptr1+1
000129r 1  AD rr rr     	lda     M0001
00012Cr 1  CD rr rr     	cmp     M0002
00012Fr 1  B0 05        	bcs     L0012
000131r 1  A9 2A        	lda     #$2A
000133r 1  4C rr rr     	jmp     L0013
000136r 1  A9 20        L0012:	lda     #$20
000138r 1  A0 00        L0013:	ldy     #$00
00013Ar 1  91 rr        	sta     (ptr1),y
00013Cr 1  EE rr rr     	inc     M0001
00013Fr 1  4C rr rr     	jmp     L0011
000142r 1  4C rr rr     L0008:	jmp     incsp7
000145r 1               
000145r 1               .segment	"BSS"
000003r 1               
000003r 1               M0001:
000003r 1  00           	.res	1,$00
000004r 1               M0002:
000004r 1  00           	.res	1,$00
000005r 1               M0003:
000005r 1  00 00        	.res	2,$00
000007r 1               M0004:
000007r 1  00 00        	.res	2,$00
000009r 1               M0005:
000009r 1  00 00 00 00  	.res	4,$00
00000Dr 1               
00000Dr 1               .endproc
00000Dr 1               
00000Dr 1               ; ---------------------------------------------------------------
00000Dr 1               ; void __near__ init_bitmap_blank (unsigned char bg)
00000Dr 1               ; ---------------------------------------------------------------
00000Dr 1               
00000Dr 1               .segment	"CODE"
000145r 1               
000145r 1               .proc	_init_bitmap_blank: near
000145r 1               
000145r 1               .segment	"CODE"
000145r 1               
000145r 1  20 rr rr     	jsr     pusha
000148r 1  AD 00 DD     	lda     $DD00
00014Br 1  29 FC        	and     #$FC
00014Dr 1  09 02        	ora     #$02
00014Fr 1  8D 00 DD     	sta     $DD00
000152r 1  AD 11 D0     	lda     $D011
000155r 1  29 EF        	and     #$EF
000157r 1  8D 11 D0     	sta     $D011
00015Ar 1  A9 18        	lda     #$18
00015Cr 1  8D 16 D0     	sta     $D016
00015Fr 1  8D 18 D0     	sta     $D018
000162r 1  A0 00        	ldy     #$00
000164r 1  B1 rr        	lda     (c_sp),y
000166r 1  8D 21 D0     	sta     $D021
000169r 1  B1 rr        	lda     (c_sp),y
00016Br 1  8D 20 D0     	sta     $D020
00016Er 1  A2 44        	ldx     #$44
000170r 1  98           	tya
000171r 1  20 rr rr     	jsr     pushax
000174r 1  A2 03        	ldx     #$03
000176r 1  A9 E8        	lda     #$E8
000178r 1  20 rr rr     	jsr     ___bzero
00017Br 1  A9 00        	lda     #$00
00017Dr 1  8D rr rr     	sta     M0001
000180r 1  8D rr rr     	sta     M0001+1
000183r 1  AD rr rr     L0002:	lda     M0001+1
000186r 1  C9 03        	cmp     #$03
000188r 1  D0 05        	bne     L0006
00018Ar 1  AD rr rr     	lda     M0001
00018Dr 1  C9 E8        	cmp     #$E8
00018Fr 1  B0 1D        L0006:	bcs     L0003
000191r 1  AD rr rr     	lda     M0001
000194r 1  85 rr        	sta     ptr1
000196r 1  AD rr rr     	lda     M0001+1
000199r 1  18           	clc
00019Ar 1  69 D8        	adc     #$D8
00019Cr 1  85 rr        	sta     ptr1+1
00019Er 1  A9 00        	lda     #$00
0001A0r 1  A8           	tay
0001A1r 1  91 rr        	sta     (ptr1),y
0001A3r 1  EE rr rr     	inc     M0001
0001A6r 1  D0 DB        	bne     L0002
0001A8r 1  EE rr rr     	inc     M0001+1
0001ABr 1  4C rr rr     	jmp     L0002
0001AEr 1  A9 3B        L0003:	lda     #$3B
0001B0r 1  8D 11 D0     	sta     $D011
0001B3r 1  4C rr rr     	jmp     incsp1
0001B6r 1               
0001B6r 1               .segment	"BSS"
00000Dr 1               
00000Dr 1               M0001:
00000Dr 1  00 00        	.res	2,$00
00000Fr 1               
00000Fr 1               .endproc
00000Fr 1               
00000Fr 1               ; ---------------------------------------------------------------
00000Fr 1               ; unsigned char __near__ read_screen_progress (unsigned char frames_per_row)
00000Fr 1               ; ---------------------------------------------------------------
00000Fr 1               
00000Fr 1               .segment	"CODE"
0001B6r 1               
0001B6r 1               .proc	_read_screen_progress: near
0001B6r 1               
0001B6r 1               .segment	"CODE"
0001B6r 1               
0001B6r 1  20 rr rr     	jsr     pusha
0001B9r 1  A9 00        	lda     #$00
0001BBr 1  8D rr rr     	sta     M0001
0001BEr 1  8D rr rr     	sta     M0001+1
0001C1r 1  AD rr rr     L0002:	lda     M0001+1
0001C4r 1  C9 00        	cmp     #$00
0001C6r 1  D0 05        	bne     L0006
0001C8r 1  AD rr rr     	lda     M0001
0001CBr 1  C9 19        	cmp     #$19
0001CDr 1  B0 77        L0006:	bcs     L0003
0001CFr 1  A9 00        	lda     #$00
0001D1r 1  8D rr rr     	sta     M0002
0001D4r 1  8D rr rr     	sta     M0002+1
0001D7r 1  AD rr rr     L0008:	lda     M0002+1
0001DAr 1  C9 00        	cmp     #$00
0001DCr 1  D0 05        	bne     L000C
0001DEr 1  AD rr rr     	lda     M0002
0001E1r 1  C9 28        	cmp     #$28
0001E3r 1  B0 4F        L000C:	bcs     L0009
0001E5r 1  20 rr rr     	jsr     _cbm_k_chrin
0001E8r 1  8D rr rr     	sta     M0003
0001EBr 1  8E rr rr     	stx     M0003+1
0001EEr 1  E0 80        	cpx     #$80
0001F0r 1  B0 07        	bcs     L0011
0001F2r 1  20 rr rr     	jsr     _cbm_k_readst
0001F5r 1  29 40        	and     #$40
0001F7r 1  F0 06        	beq     L000E
0001F9r 1  A2 00        L0011:	ldx     #$00
0001FBr 1  8A           	txa
0001FCr 1  4C rr rr     	jmp     incsp1
0001FFr 1  AD rr rr     L000E:	lda     M0001
000202r 1  AE rr rr     	ldx     M0001+1
000205r 1  20 rr rr     	jsr     pushax
000208r 1  A9 28        	lda     #$28
00020Ar 1  20 rr rr     	jsr     tosumula0
00020Dr 1  18           	clc
00020Er 1  6D rr rr     	adc     M0002
000211r 1  48           	pha
000212r 1  8A           	txa
000213r 1  6D rr rr     	adc     M0002+1
000216r 1  AA           	tax
000217r 1  68           	pla
000218r 1  18           	clc
000219r 1  69 40        	adc     #$40
00021Br 1  85 rr        	sta     ptr1
00021Dr 1  8A           	txa
00021Er 1  69 7F        	adc     #$7F
000220r 1  85 rr        	sta     ptr1+1
000222r 1  AD rr rr     	lda     M0003
000225r 1  A0 00        	ldy     #$00
000227r 1  91 rr        	sta     (ptr1),y
000229r 1  EE rr rr     	inc     M0002
00022Cr 1  D0 A9        	bne     L0008
00022Er 1  EE rr rr     	inc     M0002+1
000231r 1  4C rr rr     	jmp     L0008
000234r 1  A0 00        L0009:	ldy     #$00
000236r 1  B1 rr        	lda     (c_sp),y
000238r 1  20 rr rr     	jsr     _wait_frames
00023Br 1  EE rr rr     	inc     M0001
00023Er 1  D0 81        	bne     L0002
000240r 1  EE rr rr     	inc     M0001+1
000243r 1  4C rr rr     	jmp     L0002
000246r 1  A2 00        L0003:	ldx     #$00
000248r 1  A9 01        	lda     #$01
00024Ar 1  4C rr rr     	jmp     incsp1
00024Dr 1               
00024Dr 1               .segment	"BSS"
00000Fr 1               
00000Fr 1               M0001:
00000Fr 1  00 00        	.res	2,$00
000011r 1               M0002:
000011r 1  00 00        	.res	2,$00
000013r 1               M0003:
000013r 1  00 00        	.res	2,$00
000015r 1               
000015r 1               .endproc
000015r 1               
000015r 1               ; ---------------------------------------------------------------
000015r 1               ; unsigned char __near__ read_color_progress (unsigned char frames_per_row)
000015r 1               ; ---------------------------------------------------------------
000015r 1               
000015r 1               .segment	"CODE"
00024Dr 1               
00024Dr 1               .proc	_read_color_progress: near
00024Dr 1               
00024Dr 1               .segment	"CODE"
00024Dr 1               
00024Dr 1  20 rr rr     	jsr     pusha
000250r 1  A9 00        	lda     #$00
000252r 1  8D rr rr     	sta     M0001
000255r 1  8D rr rr     	sta     M0001+1
000258r 1  AD rr rr     L0002:	lda     M0001+1
00025Br 1  C9 00        	cmp     #$00
00025Dr 1  D0 05        	bne     L0006
00025Fr 1  AD rr rr     	lda     M0001
000262r 1  C9 19        	cmp     #$19
000264r 1  90 03 4C rr  L0006:	jcs     L0003
000268r 1  rr           
000269r 1  A9 00        	lda     #$00
00026Br 1  8D rr rr     	sta     M0002
00026Er 1  8D rr rr     	sta     M0002+1
000271r 1  AD rr rr     L0008:	lda     M0002+1
000274r 1  C9 00        	cmp     #$00
000276r 1  D0 05        	bne     L000C
000278r 1  AD rr rr     	lda     M0002
00027Br 1  C9 28        	cmp     #$28
00027Dr 1  B0 4F        L000C:	bcs     L0009
00027Fr 1  20 rr rr     	jsr     _cbm_k_chrin
000282r 1  8D rr rr     	sta     M0003
000285r 1  8E rr rr     	stx     M0003+1
000288r 1  E0 80        	cpx     #$80
00028Ar 1  B0 07        	bcs     L0017
00028Cr 1  20 rr rr     	jsr     _cbm_k_readst
00028Fr 1  29 40        	and     #$40
000291r 1  F0 06        	beq     L000E
000293r 1  A2 00        L0017:	ldx     #$00
000295r 1  8A           	txa
000296r 1  4C rr rr     	jmp     incsp1
000299r 1  AD rr rr     L000E:	lda     M0001
00029Cr 1  AE rr rr     	ldx     M0001+1
00029Fr 1  20 rr rr     	jsr     pushax
0002A2r 1  A9 28        	lda     #$28
0002A4r 1  20 rr rr     	jsr     tosumula0
0002A7r 1  18           	clc
0002A8r 1  6D rr rr     	adc     M0002
0002ABr 1  48           	pha
0002ACr 1  8A           	txa
0002ADr 1  6D rr rr     	adc     M0002+1
0002B0r 1  AA           	tax
0002B1r 1  68           	pla
0002B2r 1  18           	clc
0002B3r 1  69 28        	adc     #$28
0002B5r 1  85 rr        	sta     ptr1
0002B7r 1  8A           	txa
0002B8r 1  69 83        	adc     #$83
0002BAr 1  85 rr        	sta     ptr1+1
0002BCr 1  AD rr rr     	lda     M0003
0002BFr 1  A0 00        	ldy     #$00
0002C1r 1  91 rr        	sta     (ptr1),y
0002C3r 1  EE rr rr     	inc     M0002
0002C6r 1  D0 A9        	bne     L0008
0002C8r 1  EE rr rr     	inc     M0002+1
0002CBr 1  4C rr rr     	jmp     L0008
0002CEr 1  AD rr rr     L0009:	lda     M0001
0002D1r 1  AE rr rr     	ldx     M0001+1
0002D4r 1  20 rr rr     	jsr     pushax
0002D7r 1  A9 28        	lda     #$28
0002D9r 1  20 rr rr     	jsr     tosumula0
0002DCr 1  48           	pha
0002DDr 1  8A           	txa
0002DEr 1  18           	clc
0002DFr 1  69 44        	adc     #$44
0002E1r 1  AA           	tax
0002E2r 1  68           	pla
0002E3r 1  20 rr rr     	jsr     pushax
0002E6r 1  AD rr rr     	lda     M0001
0002E9r 1  AE rr rr     	ldx     M0001+1
0002ECr 1  20 rr rr     	jsr     pushax
0002EFr 1  A9 28        	lda     #$28
0002F1r 1  20 rr rr     	jsr     tosumula0
0002F4r 1  18           	clc
0002F5r 1  69 40        	adc     #$40
0002F7r 1  48           	pha
0002F8r 1  8A           	txa
0002F9r 1  69 7F        	adc     #$7F
0002FBr 1  AA           	tax
0002FCr 1  68           	pla
0002FDr 1  20 rr rr     	jsr     pushax
000300r 1  A2 00        	ldx     #$00
000302r 1  A9 28        	lda     #$28
000304r 1  20 rr rr     	jsr     _memcpy
000307r 1  A9 00        	lda     #$00
000309r 1  8D rr rr     	sta     M0002
00030Cr 1  8D rr rr     	sta     M0002+1
00030Fr 1  AD rr rr     L0011:	lda     M0002+1
000312r 1  C9 00        	cmp     #$00
000314r 1  D0 05        	bne     L0015
000316r 1  AD rr rr     	lda     M0002
000319r 1  C9 28        	cmp     #$28
00031Br 1  B0 5A        L0015:	bcs     L0012
00031Dr 1  AD rr rr     	lda     M0001
000320r 1  AE rr rr     	ldx     M0001+1
000323r 1  20 rr rr     	jsr     pushax
000326r 1  A9 28        	lda     #$28
000328r 1  20 rr rr     	jsr     tosumula0
00032Br 1  18           	clc
00032Cr 1  6D rr rr     	adc     M0002
00032Fr 1  48           	pha
000330r 1  8A           	txa
000331r 1  6D rr rr     	adc     M0002+1
000334r 1  AA           	tax
000335r 1  68           	pla
000336r 1  48           	pha
000337r 1  8A           	txa
000338r 1  18           	clc
000339r 1  69 D8        	adc     #$D8
00033Br 1  AA           	tax
00033Cr 1  68           	pla
00033Dr 1  20 rr rr     	jsr     pushax
000340r 1  AD rr rr     	lda     M0001
000343r 1  AE rr rr     	ldx     M0001+1
000346r 1  20 rr rr     	jsr     pushax
000349r 1  A9 28        	lda     #$28
00034Br 1  20 rr rr     	jsr     tosumula0
00034Er 1  18           	clc
00034Fr 1  6D rr rr     	adc     M0002
000352r 1  48           	pha
000353r 1  8A           	txa
000354r 1  6D rr rr     	adc     M0002+1
000357r 1  AA           	tax
000358r 1  68           	pla
000359r 1  18           	clc
00035Ar 1  69 28        	adc     #$28
00035Cr 1  85 rr        	sta     ptr1
00035Er 1  8A           	txa
00035Fr 1  69 83        	adc     #$83
000361r 1  85 rr        	sta     ptr1+1
000363r 1  A0 00        	ldy     #$00
000365r 1  B1 rr        	lda     (ptr1),y
000367r 1  29 0F        	and     #$0F
000369r 1  20 rr rr     	jsr     staspidx
00036Cr 1  EE rr rr     	inc     M0002
00036Fr 1  D0 9E        	bne     L0011
000371r 1  EE rr rr     	inc     M0002+1
000374r 1  4C rr rr     	jmp     L0011
000377r 1  A0 00        L0012:	ldy     #$00
000379r 1  B1 rr        	lda     (c_sp),y
00037Br 1  20 rr rr     	jsr     _wait_frames
00037Er 1  EE rr rr     	inc     M0001
000381r 1  F0 03 4C rr  	jne     L0002
000385r 1  rr           
000386r 1  EE rr rr     	inc     M0001+1
000389r 1  4C rr rr     	jmp     L0002
00038Cr 1  A2 00        L0003:	ldx     #$00
00038Er 1  A9 01        	lda     #$01
000390r 1  4C rr rr     	jmp     incsp1
000393r 1               
000393r 1               .segment	"BSS"
000015r 1               
000015r 1               M0001:
000015r 1  00 00        	.res	2,$00
000017r 1               M0002:
000017r 1  00 00        	.res	2,$00
000019r 1               M0003:
000019r 1  00 00        	.res	2,$00
00001Br 1               
00001Br 1               .endproc
00001Br 1               
00001Br 1               ; ---------------------------------------------------------------
00001Br 1               ; void __near__ wait_video_frames (unsigned int frames)
00001Br 1               ; ---------------------------------------------------------------
00001Br 1               
00001Br 1               .segment	"CODE"
000393r 1               
000393r 1               .proc	_wait_video_frames: near
000393r 1               
000393r 1               .segment	"CODE"
000393r 1               
000393r 1  20 rr rr     	jsr     pushax
000396r 1  A2 D0        	ldx     #$D0
000398r 1  A9 12        	lda     #$12
00039Ar 1  8D rr rr     	sta     M0001
00039Dr 1  8E rr rr     	stx     M0001+1
0003A0r 1  A9 11        	lda     #$11
0003A2r 1  8D rr rr     	sta     M0002
0003A5r 1  8E rr rr     	stx     M0002+1
0003A8r 1  4C rr rr     	jmp     L000C
0003ABr 1  AD rr rr     L0005:	lda     M0002+1
0003AEr 1  85 rr        	sta     ptr1+1
0003B0r 1  AD rr rr     	lda     M0002
0003B3r 1  85 rr        	sta     ptr1
0003B5r 1  A0 00        	ldy     #$00
0003B7r 1  B1 rr        	lda     (ptr1),y
0003B9r 1  29 80        	and     #$80
0003BBr 1  F0 0E        	beq     L000B
0003BDr 1  AD rr rr     	lda     M0001+1
0003C0r 1  85 rr        	sta     ptr1+1
0003C2r 1  AD rr rr     	lda     M0001
0003C5r 1  85 rr        	sta     ptr1
0003C7r 1  B1 rr        	lda     (ptr1),y
0003C9r 1  F0 E0        	beq     L0005
0003CBr 1  AD rr rr     L000B:	lda     M0002+1
0003CEr 1  85 rr        	sta     ptr1+1
0003D0r 1  AD rr rr     	lda     M0002
0003D3r 1  85 rr        	sta     ptr1
0003D5r 1  B1 rr        	lda     (ptr1),y
0003D7r 1  29 80        	and     #$80
0003D9r 1  F0 15        	beq     L0010
0003DBr 1  AD rr rr     	lda     M0001+1
0003DEr 1  85 rr        	sta     ptr1+1
0003E0r 1  AD rr rr     	lda     M0001
0003E3r 1  85 rr        	sta     ptr1
0003E5r 1  B1 rr        	lda     (ptr1),y
0003E7r 1  F0 05        	beq     L0017
0003E9r 1  A9 00        	lda     #$00
0003EBr 1  4C rr rr     	jmp     L0010
0003EEr 1  A9 01        L0017:	lda     #$01
0003F0r 1  20 rr rr     L0010:	jsr     bnega
0003F3r 1  D0 D6        	bne     L000B
0003F5r 1  A0 01        L000C:	ldy     #$01
0003F7r 1  B1 rr        	lda     (c_sp),y
0003F9r 1  88           	dey
0003FAr 1  11 rr        	ora     (c_sp),y
0003FCr 1  08           	php
0003FDr 1  A2 00        	ldx     #$00
0003FFr 1  A9 01        	lda     #$01
000401r 1  20 rr rr     	jsr     subeq0sp
000404r 1  28           	plp
000405r 1  D0 A4        	bne     L0005
000407r 1  4C rr rr     	jmp     incsp2
00040Ar 1               
00040Ar 1               .segment	"BSS"
00001Br 1               
00001Br 1               M0001:
00001Br 1  00 00        	.res	2,$00
00001Dr 1               M0002:
00001Dr 1  00 00        	.res	2,$00
00001Fr 1               
00001Fr 1               .endproc
00001Fr 1               
00001Fr 1               ; ---------------------------------------------------------------
00001Fr 1               ; void __near__ wait_video_seconds (unsigned int s)
00001Fr 1               ; ---------------------------------------------------------------
00001Fr 1               
00001Fr 1               .segment	"CODE"
00040Ar 1               
00040Ar 1               .proc	_wait_video_seconds: near
00040Ar 1               
00040Ar 1               .segment	"CODE"
00040Ar 1               
00040Ar 1  20 rr rr     	jsr     pushax
00040Dr 1  A9 00        	lda     #$00
00040Fr 1  8D rr rr     	sta     M0001
000412r 1  8D rr rr     	sta     M0001+1
000415r 1  AD rr rr     L0002:	lda     M0001
000418r 1  A0 00        	ldy     #$00
00041Ar 1  D1 rr        	cmp     (c_sp),y
00041Cr 1  AD rr rr     	lda     M0001+1
00041Fr 1  C8           	iny
000420r 1  F1 rr        	sbc     (c_sp),y
000422r 1  B0 12        	bcs     L0003
000424r 1  A2 00        	ldx     #$00
000426r 1  A9 32        	lda     #$32
000428r 1  20 rr rr     	jsr     _wait_video_frames
00042Br 1  EE rr rr     	inc     M0001
00042Er 1  D0 E5        	bne     L0002
000430r 1  EE rr rr     	inc     M0001+1
000433r 1  4C rr rr     	jmp     L0002
000436r 1  4C rr rr     L0003:	jmp     incsp2
000439r 1               
000439r 1               .segment	"BSS"
00001Fr 1               
00001Fr 1               M0001:
00001Fr 1  00 00        	.res	2,$00
000021r 1               
000021r 1               .endproc
000021r 1               
000021r 1               
